{% extends 'base.html' %}
{% load static %}

{% block title %}
Mon application DJANGO
{% endblock %}

{% block styles %}
  {{ block.super }} 
  <link rel="stylesheet" href="{% static 'css/affichageTotal.css' %}" />
{% endblock %}

{% block menu %}
<h1>Liste des produits</h1>
{% endblock %}
{% block contenu %}

{% if titremenu == "produits" %}
<table class="table">
    <thead>
        <th>Nom</th>
        <th>Code</th>
        <th>Prix HT</th>
        <th>Prix TTC</th>
        <th>Nombre du produit</th>
        <th>Date Création</th>
        <th>Modifier</th>
        <th>Supprimer</th>
    </thead>
    <tbody>
        {% for p in prdct %}

        <tr>
            <!-- <td><a href="/monapp/product/{{p.id}}">{{ p.name }}</a></td> -->
            <td><a href="{% url 'product-detail' p.id %}">{{ p.name }}</a></td>
            <td>{{ p.code }} </td>
            <td>{{ p.price_ht }} </td>
            <td>{{ p.price_ttc }} </td>
            <td>{{ p.nombre_de_produit}}</td>
            <td>{{ p.date_creation }} </td>
            <td><a href="{% url 'product-update' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"/>
              </svg>
              </a></td>
            <td><a href="{% url 'product-delete' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"/>
              </svg>
              </a></td>

        </tr>
        {% endfor %}

    </tbody>
</table>
{% endif %}
{% if titremenu == "commande" %}
<table class="table">
    <thead>
        <th>Fournisseur</th>
        <th>Produit</th>
        <th>Quantite</th>
        <th>Etat</th>
        <th>Date création</th>
        <th>Modifier</th>
        <th>Supprimer</th>
    </thead>
    <tbody>
        {% for p in prdct %}

        <tr>
            <!-- <td><a href="/monapp/product/{{p.id}}">{{ p.name }}</a></td> -->
            <td>{{ p.fournisseur.name}}</td>
            <td><a href="{% url 'product-detail' p.produit.id %}">{{ p.produit.name }}</a></td>
            <td>{{ p.quantite_du_produit}}</td>
            <td>{{ p.etat }} </td>
            <td>{{ p.date_creation }} </td>
            <td><a href="{% url 'commande-update' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"/>
              </svg>
              </a></td>
            <td><a href="{% url 'commande-delete' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"/>
              </svg>
              </a></td>

        </tr>
        {% endfor %}

    </tbody>
</table>
{% endif %}

{% if titremenu == "item" %}
<table class="table">
    <thead>
        <th>Nom produit</th>
        <th>Code produit</th>
        <th>Couleur</th>
        <th>Item code</th>
        <th>Attributes</th>
        <th>Modifier</th>
        <th>Supprimer</th>
    </thead>
    <tbody>
        {% for p in prdct %}

        <tr>
            <!-- <td><a href="/monapp/product/{{p.id}}">{{ p.name }}</a></td> -->
            <td>{{ p.product.name }}</td>
            <td>{{ p.product.code }}</td>
            <td>{{ p.color }}</td>
            <td>{{ p.code }} </td>
            <td>{{ p.attributes }} </td>
            <td><a href="{% url 'product-item-update' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"/>
              </svg>
              </a></td>
            <td><a href="{% url 'product-item-delete' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"/>
              </svg>
              </a></td>

        </tr>
        {% endfor %}

    </tbody>
</table>
{% endif %}

{% if titremenu == "attribut" %}
<table class="table">
    <thead>
    <th>Nom</th>
    <th>Valeurs</th>
    <th>Position</th>
    <th>Actions</th>
    </thead>
    <tbody>
    {% for attribute in prdct %}
    <tr>
    <td>{{ attribute.name}}</td>
    <td>
    {% for value in attribute.productattributevalue_set.all %}
    <p>{{ value.value }}</p>
    {% empty %}
    <p>Aucune valeur</p>
    {% endfor %}
    </td>
    <td>
    {% for value in attribute.productattributevalue_set.all %}
    <p>{{ value.position }}</p>
    {% empty %}
    <p>Aucune valeur</p>
    {% endfor %}
    </td>
    <td>
    <a href="{% url 'attribute-detail' attribute.id %}" class="btn btn-primary mt-2">Détails</a>
    <td><a href="{% url 'product-attribute-update' attribute.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"/>
      </svg>
      </a></td>
            <td><a href="{% url 'product-attribute-delete' attribute.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"/>
              </svg>
              </a></td>
    </td>
    </tr>
    {% endfor %}
    </tbody>
    </table>

{% endif %}

{% if titremenu == "fournisseur" %}
<table class="table">
    <thead>
        <th>Nom</th>
        <th>Code</th>
        <th>email</th>
        <th>phone</th>
        <th>address</th>
        <th>website</th>
        <th>Modifier</th>
        <th>Supprimer</th>        
        <th>Voir les produit</th>

    </thead>
    <tbody>
        {% for p in prdct %}

        <tr>
            <!-- <td><a href="/monapp/product/{{p.id}}">{{ p.name }}</a></td> -->
            <td>{{ p.name }}</td>
            <td>{{ p.code }} </td>
            <td>{{ p.email }} </td>
            <td>{{ p.phone }} </td>
            <td>{{ p.address}}</td>
            <td>voir le site : <a href="{{ p.website }}" target="_blank">ici</a></td>
            <td><a href="{% url 'fournisseur-update' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"/>
              </svg>
              </a></td>
            <td><a href="{% url 'fournisseur-delete' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"/>
              </svg>
              </a></td>            
            <td>
                <a href="{% url 'each-fournisseur-product-list' p.id %}">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-shop" viewBox="0 0 16 16">
                    <path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.37 2.37 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0M1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5M4 15h3v-5H4zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm3 0h-2v3h2z"/>
                  </svg>
                </a>
              </td>              
        </tr>
        {% endfor %}

    </tbody>
</table>
{% endif %}


{% if titremenu == "product_fournisseur" %}
<a href="{% url 'each-fournisseur-product-add' fournisseur_id %}">ajouter un produit au fournisseur</a>
<table class="table">
    <thead>
        <th>Nom</th>
        <th>Prix fournisseur</th>
        <th>modifier</th>
        <th>supprimer</th>


    </thead>
    <tbody>
        {% for p in prdct %}

        <tr>
            <!-- <td><a href="/monapp/product/{{p.id}}">{{ p.name }}</a></td> -->
            <td>{{ p.product.name }}</td>
            <td>{{ p.prix_fournisseur }} </td>
       
            <td><a href="{% url 'each-fournisseur-product-update' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"/>
              </svg>
              </a></td>
            <td><a href="{% url 'each-fournisseur-product-delete' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"/>
              </svg>
              </a></td>            
        </tr>
        {% endfor %}

    </tbody>
</table>
{% endif %}


{% if titremenu == "store_inventory" %}
<a href="{% url 'each-market-inventory-add' %}">ajouter un produit dans l'inventaire</a>

<table class="table">
    <thead>
        <th>Nom prosuit</th>
        <th>Nom fournisseur</th>
        <th>Prix de vente</th>
        <th>Quantite du produit</th>
        <th>modifier</th>
        <th>supprimer</th>


    </thead>
    <tbody>
        {% for p in prdct %}
        
        <tr>
            <!-- <td><a href="/monapp/product/{{p.id}}">{{ p.name }}</a></td> -->
            <td>{{ p.product.name }}</td>
            <td>{{ p.fournisseur.name }}</td>
            <td>{{ p.price_in_store }} </td>    
            <td>{{ p.quantity_in_stock }} </td>
       
            <td><a href="{% url 'each-market-inventory-update' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"/>
              </svg>
              </a></td>
            <td><a href="{% url 'each-market-inventory-delete' p.id %}"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"/>
              </svg>
              </a></td>            
        </tr>
        {% endfor %}

    </tbody>
</table>
{% endif %}

{% endblock %}